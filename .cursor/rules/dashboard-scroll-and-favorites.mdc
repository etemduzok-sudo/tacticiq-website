# Dashboard scroll + Ana sayfa hizalama – KİLİTLİ (değiştirme)

## KRİTİK: Ana sayfa hizalaması bozulmasın

### 1. Ana sayfa (Dashboard) – Referans sabit

- **En üstteki maç kartı** (canlı veya ilk yaklaşan) **her zaman** filtre barının hemen altında, aynı dikey konumda görünür. Bu konum **tüm uygulama için** kilitlidir.

- **`App.tsx`**
  - Overlay yüksekliği **sadece** overlay `View`'ın `onLayout` ile ölçülür; `profileCardHeight` state’i buna göre güncellenir.
  - `profileCardOverlay`: `paddingBottom: 0` (ekstra boşluk yok). Değiştirme.

- **`src/components/Dashboard.tsx`**
  - **İçerik sırası (sabit):** 1) Biten maçlar, 2) Scroll marker (1px), 3) Canlı maçlar, 4) Yaklaşan maçlar. Biten maçlar yukarı kaydırınca görünür; açılışta ekranda ilk canlı/yaklaşan kart vardır.
  - **ScrollView:** `position: 'absolute'`, `top: SCROLL_VIEW_TOP_MARGIN`, `left: 0`, `right: 0`, `bottom: 0`. Margin = `profileCardHeight` (fallback: iOS 280, diğer 272). Bu sayede liste overlay’in altından başlar; kart overlay altına kayıp kesilmez.
  - **contentContainerStyle:** `paddingTop: 0`. Üst boşluk yok; ilk kart scroll alanının en üstünde.
  - Açılışta ve filtre değişiminde scroll, ilk canlı/yaklaşan kartı bu sabit konuma getirir (`activeAnchorY`, `defaultScrollY`). Bu davranışı kaldırma veya hedefi değiştirme.

- **`src/screens/MatchListScreen.tsx`**
  - İlk kart konumu Dashboard ile aynı: `paddingTop: profileCardHeight` (ek +8 yok). Fallback: iOS 280, diğer 272.

### 2. Favori takımlar – 4. ve 5. takım

- Kullanıcı 4 veya 5 takım seçebilir. Hepsi filtre barında ve maç listesinde görünmeli.
- **`src/utils/storageUtils.ts`**: `validateFavoriteTeamsLenient`, `setFavoriteTeams` – id number/string normalize.
- **`src/hooks/useFavoriteTeams.ts`**: Yerel liste Supabase’den fazlaysa korunur; `jsonToTeams` id’yi number’a çevirir.

### Yapma

- ScrollView’a `marginTop` yerine farklı bir konumlama verme (absolute + top kullanılıyor).
- İçerik sırasını “Biten → Marker → Canlı → Yaklaşan” dışına taşıma.
- Overlay’e `paddingBottom` ekleme veya `profileCardHeight` ölçümünü farklı bir elemandan alma.
- İlk canlı/yaklaşan kartın açılış scroll hedefini kaldırma veya değiştirme.

---
İlk kilit: 26 Şub 2026. Güncel kilit: 1 Mar 2026.
